[{"/Users/florentbarth/Documents/websites/WCS/Projet3/orleans-js-p3-tennis-front/src/index.js":"1","/Users/florentbarth/Documents/websites/WCS/Projet3/orleans-js-p3-tennis-front/src/App.js":"2","/Users/florentbarth/Documents/websites/WCS/Projet3/orleans-js-p3-tennis-front/src/components/FileUpload.jsx":"3"},{"size":219,"mtime":1607700885000,"results":"4","hashOfConfig":"5"},{"size":712,"mtime":1607700768000,"results":"6","hashOfConfig":"5"},{"size":2011,"mtime":1607700768000,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1virux5",{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"12"},{"filePath":"13","messages":"14","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"15","usedDeprecatedRules":"12"},"/Users/florentbarth/Documents/websites/WCS/Projet3/orleans-js-p3-tennis-front/src/index.js",[],"/Users/florentbarth/Documents/websites/WCS/Projet3/orleans-js-p3-tennis-front/src/App.js",[],["16","17"],"/Users/florentbarth/Documents/websites/WCS/Projet3/orleans-js-p3-tennis-front/src/components/FileUpload.jsx",["18"],"import React, {Fragment, useState} from 'react';\nimport Axios from 'axios';\n\nconst FileUpload = () => {\n    const [file, setFile] = useState('');\n    const [fileName, setFileName] = useState('Choose File');\n    const [uploadedFile, setUploadedFile] = useState({});\n\n    const handleChange = e => {\n        setFile(e.target.files[0]);\n        setFileName(e.target.files[0].name);\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        const formData = new FormData();\n        formData.append('file', file);\n\n        try {\n            const res = await Axios.post(\"http://localhost:8000/api/upload\", formData, {\n                headers: {\n                'Content-Type' : 'multipart/form-data'\n                }\n            });\n            const { fileName, filePath, successMessage } = res.data;\n            setUploadedFile({fileName, filePath, successMessage});  \n        }\n        catch(err){\n            if(err.response.status === 500){\n                console.log('there was a problem with the server')\n            } else{\n                console.log(err.response.data.errorMessage);\n            }\n        }\n\n        await Axios.put(\"http://localhost:8000/api/home/intro/1\", {id:1, video_url : fileName});\n    }\n    return (\n        <Fragment>\n            <form className=\"mb-5\" onSubmit={handleSubmit} >\n                <div className=\"custom-file\">\n                <input onChange={handleChange} type=\"file\" className=\"custom-file-input\" name=\"file\" id=\"customFile\"/>\n                <label htmlFor=\"customFile\">{fileName}</label>\n\n                <input type=\"submit\" value=\"Upload\" className=\"btn btn-primary btn-clock\" />\n                </div>\n            </form>\n\n            {uploadedFile.fileName ? \n            <Fragment>\n            <img src={`http://localhost:3000/${uploadedFile.filePath}`} />\n            <h3>{uploadedFile.successMessage}</h3>\n            </Fragment>\n            :\n            null\n            }\n        </Fragment>\n    )\n}\n\nexport default FileUpload\n",{"ruleId":"19","replacedBy":"20"},{"ruleId":"21","replacedBy":"22"},{"ruleId":"23","severity":1,"message":"24","line":51,"column":13,"nodeType":"25","endLine":51,"endColumn":75},"no-native-reassign",["26"],"no-negated-in-lhs",["27"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]